<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CoachBot ‚Äî Programme 15 jours</title>
<link rel="icon" href="data:," />
<style>
:root{--bg:#f8f9fb;--fg:#202124;--muted:#5f6368;--pri:#1a73e8;--card:#fff;--br:#e6e8ec}
html,body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:900px;margin:0 auto;padding:24px 16px}
h1{font-size:20px;margin:0 0 12px}
.top{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px}
.badge{background:#e8f0fe;border:1px solid #d2e3fc;padding:6px 10px;border-radius:999px;font-size:12px}
.btn{border:1px solid var(--br);background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.btn.pri{background:var(--pri);color:#fff;border-color:var(--pri)}
select,input,textarea{width:100%;padding:10px;border:1px solid var(--br);border-radius:10px;background:#fff}
.card{background:var(--card);border:1px solid var(--br);border-radius:16px;padding:14px}
.row{display:flex;gap:10px;align-items:center}
.chat{display:flex;flex-direction:column;gap:12px;margin-top:10px}
.bubble{display:inline-block;padding:10px 12px;border-radius:12px;border:1px solid var(--br);max-width:100%}
.bubble.me{background:#eef7ee;border-color:#dbe9db}
.bubble.ai{background:#eef2fb;border-color:#dbe2f7}
.dot{width:8px;height:8px;border-radius:50% ;display:inline-block;margin-right:8px}
.dot.me{background:#00b076} /* vert */
.dot.ai{background:#e53935}  /* rouge */
.controls{display:flex;gap:8px;align-items:center}
textarea{min-height:110px;resize:vertical}
.footer{font-size:12px;color:var(--muted);margin-top:8px}
.modalScrim{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center}
.modal{background:#fff;border-radius:14px;padding:16px;width:min(420px,90vw);box-shadow:0 8px 30px rgba(0,0,0,.18)}
.tabs{display:flex;margin-bottom:10px}
.tab{flex:1;text-align:center;padding:8px;border:1px solid var(--br);cursor:pointer}
.tab.on{background:#f1f3f4}
.eye{position:absolute;right:10px;top:10px;cursor:pointer}
.ok{color:#0b8043;font-weight:600}
</style>
</head>
<body>
<div class="wrap">
  <div class="top">
    <h1>CoachBot</h1>
    <div class="row">
      <div id="who" class="badge">Non connect√©</div>
      <button id="logoutBtn" class="btn" style="display:none">D√©connexion</button>
      <button id="adminBtn" class="btn" onclick="location.href='/admin'" style="display:none">Admin</button>
      <button id="loginBtn" class="btn pri">Connexion</button>
    </div>
  </div>

  <div class="card" style="margin-bottom:10px">
    <div class="row" style="gap:8px">
      <select id="daySel" style="max-width:160px"></select>
      <button id="showPlan" class="btn">Afficher</button>
    </div>
    <div id="plan" style="margin-top:8px;color:var(--muted)"></div>
  </div>

  <div class="card">
    <div class="footer">Point <span class="ok">vert</span> = toi ‚Ä¢ Point <span style="color:#e53935;font-weight:600">rouge</span> = coach</div>
    <div id="chat" class="chat">
      <div class="bubble ai"><span class="dot ai"></span>Bienvenue ! Choisis un jour, affiche le plan, puis √©cris ton message. Si on ne se conna√Æt pas, dis‚Äëmoi ton pr√©nom (ex. ¬´ je m‚Äôappelle Samir ¬ª).</div>
    </div>
    <div style="margin-top:8px">
      <textarea id="msg" placeholder="√âcris ton message au coach‚Ä¶"></textarea>
    </div>
    <div class="controls" style="justify-content:flex-end;margin-top:8px">
      <select id="providerSel" style="max-width:220px">
        <option value="anthropic">Fournisseur : Claude</option>
      </select>
      <button id="sendBtn" class="btn pri">Envoyer</button>
    </div>
  </div>

  <div class="footer" id="status">Streaming activ√© avec Claude. Donn√©es enregistr√©es par jour et par utilisateur.</div>
</div>

<!-- Login modal -->
<div id="scrim" class="modalScrim">
  <div class="modal">
    <div class="row" style="justify-content:space-between;margin-bottom:8px">
      <div style="font-weight:600">Connexion</div>
      <button class="btn" id="closeModal">Fermer</button>
    </div>
    <div class="tabs">
      <div id="tabUser" class="tab on">Utilisateur</div>
      <div id="tabAdmin" class="tab">Admin</div>
    </div>
    <div style="display:flex;flex-direction:column;gap:8px;position:relative">
      <input id="email" type="email" placeholder="email">
      <div style="position:relative">
        <input id="pass" type="password" placeholder="mot de passe">
        <span id="toggleEye" class="eye">üëÅ</span>
      </div>
      <input id="regName" placeholder="Pr√©nom (pour inscription)">
      <div class="row" style="justify-content:space-between">
        <button id="doLogin" class="btn pri">Connexion</button>
        <button id="doRegister" class="btn">Inscription</button>
      </div>
      <div id="loginInfo" class="ok" style="display:none">‚úÖ Connect√© !</div>
      <div id="loginErr" style="color:#d93025"></div>
    </div>
  </div>
</div>

<script src="main.js"></script>
</body>
</html>
